<html>
    <head>
   
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
 
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
 
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
 
    <!-- Latest compiled JavaScript -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="final.css">
  <style>
    #map{
  width:100%;
  height: 400px;
}
</style>
<script>
function goBack() {
    window.history.back();
}
</script>
 
<script src="final.js"></script>
 
<title>Volunteen - Find a Volunteer Job</title>
    </head>
 
        <body>
<h1 id="home">Find Places to Volunteer</h1>
<center>
<img src="head2.png" height="60%">
    <!--Navigation bar-->
<center>   
<nav class="navbar">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Volunteen</a>
    </div>
    <center>
    <ul class="nav navbar-nav">
      <li><a href="file:///C:/Users/Girls%20Who%20Code/2016_SIP_Microsoft_NYC_Volunteer/homepage.html">Home</a></li>
      <li><a href="file:///C:/Users/Girls%20Who%20Code/2016_SIP_Microsoft_NYC_Volunteer/map.html">Find Volunteer Jobs</a></li>
      <li><a href="file:///C:/Users/Girls%20Who%20Code/2016_SIP_Microsoft_NYC_Volunteer/formpage.html">Add your volunteer job to our map</a></li>
      <li><a href="file:///C:/Users/Girls%20Who%20Code/2016_SIP_Microsoft_NYC_Volunteer/description.html">Description</a></li>
      <li><a onclick="goBack()">Back</a></li>
    </ul>
  </div>
</nav>
 
 
<!--end of bar-->
<div class="body">
 
<!--PUT TEXT HERE-->
 
<div id="map"></div>
 
    <div id="places"></div>
 
   
 
     <script type="text/javascript">
     
     var JSONURL = 'https://spreadsheets.google.com/feeds/list/1yUkYl1H2imvxxyDTPTAz5bkauHQC-Ch5BaWUuYw2vV8/1/public/basic?alt=json';
 
           
       
 
     
     
     
     
     
    var volunteerplaces;
    $.getJSON('volunteerdata.json', function(data){
        volunteerplaces = data;
 
    });
 
 
      function initMap(){
           var mylatlng = {lat:40.7481, lng:-73.9938};          
         
        var mapDiv = document.getElementById('map');
            var map = new google.maps.Map(mapDiv,{
              center: mylatlng,
              zoom: 8
 
        });
 
            var contentString = 'New York Cares </br> 214 W. 29th St. </br> New York, NY 10001 </br> (212)-228-5000 </br> <a href="http://www.nycares.org">nycares.org</a>'
 
 
            $.getJSON(JSONURL, function(data){
              for(var i = 0; i < data.feed.entry.length; i++){
 
                var array = data.feed.entry[i].content.$t.split(",");
 
                var latitude = array[0].split(" "); //array latitude[1] is the number
 
                var longitude = array[1].split(" "); //array longitude[1] is the number
 
                //position gotta convert to float to work
                var pos = {lat: parseFloat(latitude[1]), lng: parseFloat(longitude[2])};
         
                var marker = new google.maps.Marker({
                  position: pos,
                  map: map,
                  title: data.feed.entry[i].title.$t //marker from json
                });
 
                var infowindow = new google.maps.InfoWindow({
                content: contentString // FIZ THIS
                });
 
                 marker.addListener('click', function() {
                    infowindow.open(map, marker);
                  });  
         
         //Array separtes the items by , 
         /*var array = data.feed.entry[i].content.$t.split(",");
         console.log("#"+i+" Array content:");
         console.log(array);
         
         var local = data.feed.entry[i].title.$t; //Variável onde fica armazenada o nome do local
         console.log("#"+i+" Variavel local: "+local);
         
         var lat = array[0].split(" "); //Array que recebe o trecho de latitude do content, sendo que lat[1] é a latitude em números
         console.log("#"+i+" Array lat:");
         console.log(lat);
         console.log("#"+i+" Latitude (lat[1]) : "+lat[1]);
         
         var longi = array[1].split(" "); //Array que recebe o trecho de longitude do content, sendo que longi[2] é a longitude em números
         console.log("#"+i+" Array longi:");
         console.log(longi);
         console.log("#"+i+" Latitude (longi[2]) : "+lat);
         
         places += "<strong>Local:</strong> "+ local + "<br /><strong>Latitude:</strong> " + lat[1] + "<br /><strong>Longitude:</strong> "+ longi[2] + "<br /><br />";
         
         console.log("------------------------------------------------------------------------------------------------------------------------------------------------------------------");*/
      }
    });
 
 
      }
   
 
 
 
 
    </script>
   
 
    <script async defer
       src="https://maps.googleapis.com/maps/api/js?&callback=initMap">
     </script>  
 
<!--End of the text-->
<div class="body">
 
<br>
<br>
<br><br>
<br>
<br>
 
 
 
 
        </body>
</html>